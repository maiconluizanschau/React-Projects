{"ast":null,"code":"import app from 'firebase/app';\nimport 'firebase/database';\nimport 'firebase/auth';\nimport 'firebase/storage'; //configuração do projeto do firebase\n\nlet firebaseConfig = {\n  apiKey: \"AIzaSyAGOYfHt47gMCstkZPjxG8BHMEu4VwNdS4\",\n  authDomain: \"reactapp-6d3a1.firebaseapp.com\",\n  databaseURL: \"https://reactapp-6d3a1.firebaseio.com\",\n  projectId: \"reactapp-6d3a1\",\n  storageBucket: \"reactapp-6d3a1.appspot.com\",\n  messagingSenderId: \"249637421535\",\n  appId: \"1:249637421535:web:b337f251eb98c67098446a\",\n  measurementId: \"G-WK79QECCFN\"\n};\n\nclass Firebase {\n  constructor() {\n    app.initializeApp(firebaseConfig); //Referenciando a database para acessar em outros locais\n\n    this.app = app.database();\n    this.storage = app.storage();\n  }\n\n  login(email, password) {\n    return app.auth().signInWithEmailAndPassword(email, password);\n  }\n\n  logout() {\n    return app.auth().signOut();\n  }\n\n  async register(nome, email, password) {\n    await app.auth().createUserWithEmailAndPassword(email, password);\n    const uid = app.auth().currentUser.uid;\n    return app.database().ref('usuarios').child(uid).set({\n      nome: nome\n    });\n  }\n\n  isInitialized() {\n    return new Promise(resolve => {\n      app.auth().onAuthStateChanged(resolve);\n    });\n  }\n\n  getCurrent() {\n    return app.auth().currentUser && app.auth().currentUser.email;\n  }\n\n  getCurrentUid() {\n    return app.auth().currentUser && app.auth().currentUser.uid;\n  }\n\n  async getUserName(callback) {\n    if (!app.auth().currentUser) {\n      return null;\n    }\n\n    const uid = app.auth().currentUser.uid;\n    await app.database().ref('usuarios').child(uid).once('value').then(callback);\n  }\n\n}\n\nexport default new Firebase();","map":{"version":3,"sources":["/home/maicon/Área de Trabalho/Area de Trabalho/Projetos/react-estudo/blog/src/firebase.js"],"names":["app","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","constructor","initializeApp","database","storage","login","email","password","auth","signInWithEmailAndPassword","logout","signOut","register","nome","createUserWithEmailAndPassword","uid","currentUser","ref","child","set","isInitialized","Promise","resolve","onAuthStateChanged","getCurrent","getCurrentUid","getUserName","callback","once","then"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,cAAhB;AACA,OAAO,mBAAP;AACA,OAAO,eAAP;AACA,OAAO,kBAAP,C,CAEI;;AACA,IAAIC,cAAc,GAAG;AACjBC,EAAAA,MAAM,EAAE,yCADS;AAEjBC,EAAAA,UAAU,EAAE,gCAFK;AAGjBC,EAAAA,WAAW,EAAE,uCAHI;AAIjBC,EAAAA,SAAS,EAAE,gBAJM;AAKjBC,EAAAA,aAAa,EAAE,4BALE;AAMjBC,EAAAA,iBAAiB,EAAE,cANF;AAOjBC,EAAAA,KAAK,EAAE,2CAPU;AAQjBC,EAAAA,aAAa,EAAE;AARE,CAArB;;AAYJ,MAAMC,QAAN,CAAc;AACZC,EAAAA,WAAW,GAAE;AACXX,IAAAA,GAAG,CAACY,aAAJ,CAAkBX,cAAlB,EADW,CAGX;;AACA,SAAKD,GAAL,GAAWA,GAAG,CAACa,QAAJ,EAAX;AAEA,SAAKC,OAAL,GAAed,GAAG,CAACc,OAAJ,EAAf;AACD;;AAEDC,EAAAA,KAAK,CAACC,KAAD,EAAQC,QAAR,EAAiB;AACpB,WAAOjB,GAAG,CAACkB,IAAJ,GAAWC,0BAAX,CAAsCH,KAAtC,EAA6CC,QAA7C,CAAP;AACD;;AAEDG,EAAAA,MAAM,GAAE;AACN,WAAOpB,GAAG,CAACkB,IAAJ,GAAWG,OAAX,EAAP;AACD;;AAED,QAAMC,QAAN,CAAeC,IAAf,EAAqBP,KAArB,EAA4BC,QAA5B,EAAqC;AACnC,UAAMjB,GAAG,CAACkB,IAAJ,GAAWM,8BAAX,CAA0CR,KAA1C,EAAiDC,QAAjD,CAAN;AAEA,UAAMQ,GAAG,GAAGzB,GAAG,CAACkB,IAAJ,GAAWQ,WAAX,CAAuBD,GAAnC;AAEA,WAAOzB,GAAG,CAACa,QAAJ,GAAec,GAAf,CAAmB,UAAnB,EAA+BC,KAA/B,CAAqCH,GAArC,EAA0CI,GAA1C,CAA8C;AACnDN,MAAAA,IAAI,EAAEA;AAD6C,KAA9C,CAAP;AAID;;AAEDO,EAAAA,aAAa,GAAE;AACX,WAAO,IAAIC,OAAJ,CAAYC,OAAO,IAAG;AACzBhC,MAAAA,GAAG,CAACkB,IAAJ,GAAWe,kBAAX,CAA8BD,OAA9B;AACH,KAFM,CAAP;AAGH;;AAEDE,EAAAA,UAAU,GAAE;AACV,WAAOlC,GAAG,CAACkB,IAAJ,GAAWQ,WAAX,IAA0B1B,GAAG,CAACkB,IAAJ,GAAWQ,WAAX,CAAuBV,KAAxD;AACD;;AAEDmB,EAAAA,aAAa,GAAE;AACb,WAAOnC,GAAG,CAACkB,IAAJ,GAAWQ,WAAX,IAA0B1B,GAAG,CAACkB,IAAJ,GAAWQ,WAAX,CAAuBD,GAAxD;AACD;;AAED,QAAMW,WAAN,CAAkBC,QAAlB,EAA2B;AACzB,QAAG,CAACrC,GAAG,CAACkB,IAAJ,GAAWQ,WAAf,EAA2B;AACzB,aAAO,IAAP;AACD;;AAED,UAAMD,GAAG,GAAGzB,GAAG,CAACkB,IAAJ,GAAWQ,WAAX,CAAuBD,GAAnC;AACA,UAAMzB,GAAG,CAACa,QAAJ,GAAec,GAAf,CAAmB,UAAnB,EAA+BC,KAA/B,CAAqCH,GAArC,EACLa,IADK,CACA,OADA,EACSC,IADT,CACcF,QADd,CAAN;AAGD;;AApDW;;AAwDd,eAAe,IAAI3B,QAAJ,EAAf","sourcesContent":["import app from 'firebase/app';\r\nimport 'firebase/database';\r\nimport 'firebase/auth';\r\nimport 'firebase/storage';\r\n\r\n    //configuração do projeto do firebase\r\n    let firebaseConfig = {\r\n        apiKey: \"AIzaSyAGOYfHt47gMCstkZPjxG8BHMEu4VwNdS4\",\r\n        authDomain: \"reactapp-6d3a1.firebaseapp.com\",\r\n        databaseURL: \"https://reactapp-6d3a1.firebaseio.com\",\r\n        projectId: \"reactapp-6d3a1\",\r\n        storageBucket: \"reactapp-6d3a1.appspot.com\",\r\n        messagingSenderId: \"249637421535\",\r\n        appId: \"1:249637421535:web:b337f251eb98c67098446a\",\r\n        measurementId: \"G-WK79QECCFN\"\r\n      };\r\n     \r\n\r\nclass Firebase{\r\n  constructor(){\r\n    app.initializeApp(firebaseConfig);\r\n\r\n    //Referenciando a database para acessar em outros locais\r\n    this.app = app.database();\r\n\r\n    this.storage = app.storage();\r\n  }\r\n\r\n  login(email, password){\r\n    return app.auth().signInWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  logout(){\r\n    return app.auth().signOut();\r\n  }\r\n\r\n  async register(nome, email, password){\r\n    await app.auth().createUserWithEmailAndPassword(email, password)\r\n\r\n    const uid = app.auth().currentUser.uid;\r\n\r\n    return app.database().ref('usuarios').child(uid).set({\r\n      nome: nome\r\n    })\r\n\r\n  }\r\n\r\n  isInitialized(){\r\n      return new Promise(resolve =>{\r\n          app.auth().onAuthStateChanged(resolve);\r\n      })\r\n  }\r\n\r\n  getCurrent(){\r\n    return app.auth().currentUser && app.auth().currentUser.email\r\n  }\r\n\r\n  getCurrentUid(){\r\n    return app.auth().currentUser && app.auth().currentUser.uid\r\n  }\r\n\r\n  async getUserName(callback){\r\n    if(!app.auth().currentUser){\r\n      return null;\r\n    }\r\n\r\n    const uid = app.auth().currentUser.uid;\r\n    await app.database().ref('usuarios').child(uid)\r\n    .once('value').then(callback);\r\n\r\n  }\r\n\r\n}\r\n\r\nexport default new Firebase();"]},"metadata":{},"sourceType":"module"}