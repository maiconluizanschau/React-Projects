{"ast":null,"code":"var _jsxFileName = \"/home/maicon/\\xC1rea de Trabalho/Area de Trabalho/Projetos/react-estudo/blog/src/components/Dashboard/index.js\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport firebase from '../../firebase';\nimport './dashboard.css';\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.logout = async () => {\n      await firebase.logout().catch(error => {\n        console.log(error);\n      });\n      localStorage.removeItem(\"nome\");\n      this.props.history.push('/');\n    };\n\n    this.state = {\n      nome: localStorage.nome\n    };\n    this.logout = this.logout.bind(this);\n  }\n\n  async componentDidMount() {\n    if (!firebase.getCurrent()) {\n      this.props.history.replace('/login');\n      return null;\n    }\n\n    firebase.getUserName(info => {\n      localStorage.nome = info.val().nome;\n      this.setState({\n        nome: localStorage.nome\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }\n    }, \"Ol\\xE1 \", this.state.nome), /*#__PURE__*/React.createElement(Link, {\n      to: \"/dashboard/new\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }\n    }, \"Novo Post\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, \"Logado com: \", firebase.getCurrent()), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.logout(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, \"Deslogar\"));\n  }\n\n}\n\nexport default withRouter(Dashboard);","map":{"version":3,"sources":["/home/maicon/Área de Trabalho/Area de Trabalho/Projetos/react-estudo/blog/src/components/Dashboard/index.js"],"names":["React","Component","Link","withRouter","firebase","Dashboard","constructor","props","logout","catch","error","console","log","localStorage","removeItem","history","push","state","nome","bind","componentDidMount","getCurrent","replace","getUserName","info","val","setState","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,IAAR,EAAcC,UAAd,QAA+B,kBAA/B;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAO,iBAAP;;AAEA,MAAMC,SAAN,SAAwBJ,SAAxB,CAAiC;AAE/BK,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;;AADgB,SAuBlBC,MAvBkB,GAuBT,YAAY;AACnB,YAAMJ,QAAQ,CAACI,MAAT,GACLC,KADK,CACEC,KAAD,IAAS;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OAHK,CAAN;AAIAG,MAAAA,YAAY,CAACC,UAAb,CAAwB,MAAxB;AACA,WAAKP,KAAL,CAAWQ,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AAED,KA/BiB;;AAEhB,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAEL,YAAY,CAACK;AADR,KAAb;AAIA,SAAKV,MAAL,GAAc,KAAKA,MAAL,CAAYW,IAAZ,CAAiB,IAAjB,CAAd;AACD;;AAED,QAAMC,iBAAN,GAAyB;AACvB,QAAG,CAAChB,QAAQ,CAACiB,UAAT,EAAJ,EAA0B;AACxB,WAAKd,KAAL,CAAWQ,OAAX,CAAmBO,OAAnB,CAA2B,QAA3B;AACA,aAAO,IAAP;AACD;;AAEDlB,IAAAA,QAAQ,CAACmB,WAAT,CAAsBC,IAAD,IAAQ;AAC3BX,MAAAA,YAAY,CAACK,IAAb,GAAoBM,IAAI,CAACC,GAAL,GAAWP,IAA/B;AACA,WAAKQ,QAAL,CAAc;AAACR,QAAAA,IAAI,EAAEL,YAAY,CAACK;AAApB,OAAd;AACD,KAHD;AAMD;;AAYDS,EAAAA,MAAM,GAAE;AACN,wBACE;AAAK,MAAA,EAAE,EAAC,WAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAS,KAAKV,KAAL,CAAWC,IAApB,CADF,eAEE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,gBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFF,CADF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAgBd,QAAQ,CAACiB,UAAT,EAAhB,CALF,eAME;AAAQ,MAAA,OAAO,EAAE,MAAK,KAAKb,MAAL,EAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANF,CADF;AAUD;;AA9C8B;;AAiDjC,eAAeL,UAAU,CAACE,SAAD,CAAzB","sourcesContent":["import React, {Component} from 'react';\r\nimport {Link, withRouter} from 'react-router-dom';\r\nimport firebase from '../../firebase';\r\nimport './dashboard.css';\r\n\r\nclass Dashboard extends Component{\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      nome: localStorage.nome\r\n    };\r\n\r\n    this.logout = this.logout.bind(this);\r\n  }\r\n\r\n  async componentDidMount(){\r\n    if(!firebase.getCurrent()){\r\n      this.props.history.replace('/login');\r\n      return null;\r\n    }\r\n\r\n    firebase.getUserName((info)=>{\r\n      localStorage.nome = info.val().nome;\r\n      this.setState({nome: localStorage.nome });\r\n    })\r\n\r\n\r\n  }\r\n\r\n  logout = async () => {\r\n    await firebase.logout()\r\n    .catch((error)=>{\r\n      console.log(error);\r\n    });\r\n    localStorage.removeItem(\"nome\");\r\n    this.props.history.push('/');\r\n\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div id=\"dashboard\">\r\n        <div className=\"user-info\">\r\n          <h1>Olá {this.state.nome}</h1>\r\n          <Link to=\"/dashboard/new\">Novo Post</Link>\r\n        </div>\r\n        <p>Logado com: {firebase.getCurrent()}</p>\r\n        <button onClick={()=> this.logout()}>Deslogar</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Dashboard);"]},"metadata":{},"sourceType":"module"}